---
# defaults file for ansible-role-matrix-synapse

##########################
##### Synapse server #####
##########################

# Our friendly and public domain name for the Synapse
# server (the one that conforms user ID and room alias)
synapse_server_name: "{{ inventory_hostname }}"
# FQDN of the server that effectively hosting synapse
synapse_server_fqdn: "{{ inventory_hostname }}"

# Location where synapse will be downloaded and installed from PyPI
synapse_installation_path: /var/lib/matrix-synapse

# present : Keep the same version once synapse was installed or
# latest : upgrade it if there is a new upgrade available from pip
# IF YOU PLAN TO UPGRADE, CHECK FIRST: https://github.com/matrix-org/synapse/blob/master/UPGRADE.rst
synapse_pip_state: present

# Enable sign up for new users
synapse_enable_registration: 'false'
synapse_report_stats: 'no'

# Local sources to templates and configuration files, useful
# for overwriting if you want to use your own templates in conf.d
synapse_confd_templates_src: var/lib/matrix-synapse/conf.d


#######################
####### Database ######
#######################

# Install and configure Synapse with PostgreSQL Server, instead of SQLite.
synapse_with_postgresql: true

# PostgreSQL credentials
synapse_psql_db_name: matrix-synapse
synapse_psql_db_host: localhost
synapse_psql_user: matrix-synapse
synapse_psql_password: secret-password


#######################
######## Email ########
#######################

# If email is not configured, password reset, registration and notifications via email will be disabled.
synapse_email_enable: true
synapse_email_hostname: "{{ synapse_server_fqdn }}"
synapse_email_notif_from: "YourFriendlyhomeserver" # without spaces

synapse_email_with_custom_templates: false
# If true, remember use a customized version of the template conf.d/email.yaml.j2 to reference them
synapse_email_templates_src: email_notif_templates
synapse_email_templates_dest: "{{ synapse_installation_path }}/email_notif_templates"


#######################
########  Riot  #######
#######################

# Also install the riot web application along synapse
synapse_installation_with_riot: false
riot_installation_path: /var/www/riot

# Our public domain name for the Riot Web client
riot_server_name: "{{ synapse_server_name }}"

# Look https://github.com/vector-im/riot-web/releases to use the latest version
riot_version: '1.5.6'

# Name to display for the server
riot_display_name: 'My Org Chat'
riot_default_theme: light # light or dark
riot_default_country_code: GB


###################### geerlingguy.certbot vars ######################

# # Certbot auto-renew cron job configuration (for certificate renewals).
# certbot_auto_renew: true
# certbot_auto_renew_user: "root"
# certbot_auto_renew_hour: 5
# certbot_auto_renew_minute: 25
# certbot_auto_renew_options: '--quiet --no-self-upgrade --pre-hook "service nginx stop" --post-hook "service nginx start"'

# # Parameters used when creating new Certbot certs.
# certbot_create_if_missing: true
# certbot_create_method: standalone
# certbot_admin_email: admin@my-organization.org
# certbot_certs:
#   - domains:
#       - "{{ synapse_server_fqdn }}"
#       - "{{ synapse_server_name }}"
#       - "{{ riot_server_name }}"

# certbot_create_standalone_stop_services: []
#   # - nginx